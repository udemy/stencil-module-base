name: github.com/udemy/stencil-module-base
type: templates
arguments:
  # Add custom Stencil module arguments here. Used in templates when generating projects.
  ## <<Stencil::Block(arguments)>>
  nativeModule:
    required: false
    description: Does this module include native module golang code?
    schema:
      type: boolean
  templateModule:
    required: false
    description: Does this module include templated code
    schema:
      type: boolean
  githubOrg:
    required: true
    description: The github org of the repository (i.e. github.com/udemy/stencil-module-base -> "udemy")
    schema:
      type: string
  githubOwner:
    required: false
    description: The github owner of the repository (i.e. @udemy/platform)
    schema:
      type: string
  buildAndTestRunner:
    required: false
    description: The github actions runner to use for the build and test CI job
    schema:
      type: string
  packageJsonDeps:
    required: false
    description: package.json dependencies to add to the generated package.json (key/value map)
  packageJsonScripts:
    required: false
    description: package.json scripts to add to the generated package.json (key/value map)
  ## <</Stencil::Block>>
modules:
  # Add additional Stencil modules to include. Loaded and available during project generation.
  ## <<Stencil::Block(modules)>>

  ## <</Stencil::Block>>
# Add extra manifest config here (e.g. postRunCommand, hooks).
## <<Stencil::Block(extra)>>
postRunCommand:
  - name: Install/Update pnpm deps to lockfile
    command: "pnpm install --no-frozen-lockfile"
  - name: Run fmt if applicable
    command: "[ -f go.mod ] && mise run fmt || true"
## <</Stencil::Block>>
