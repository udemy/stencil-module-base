[tools]
nodejs = "lts"
pnpm = "latest"
## <<Stencil::Block(additionalTools)>>
## Add additional tool versions here (e.g., "rust = '1.75'", "python = '3.11'")
## These will be installed via mise alongside the default tools
## <</Stencil::Block>>

# Template module tasks
[tasks.cleantest]
description = "Helper to clean the test directory"
dir = "tests"
run = """
#!/usr/bin/env bash
for dir in ./*/ ; do
    (cd "$dir" && git clean -xdf);
done
"""

[tasks.buildtest]
description = 'Build the Test projects'
dir = "tests"
run = """
#!/usr/bin/env bash
for dir in ./*/ ; do
    (cd "$dir" && echo "Building the project $dir" && stencil) || exit 1;
done
"""

[tasks.runtest]
description = 'Run the tests'
dir = "tests"
## <<Stencil::Block(runTests)>>
## Customize the test runner configuration here
## This block allows you to override the default test execution command
## You can add environment variables, change the test directory, or modify the test command
run = """
#!/usr/bin/env bash
cd native
mise run build
mise run lint
mise run test
"""
## <</Stencil::Block>>

[tasks.gentable]
description = 'Generate the README.md table of arguments'
run = "node scripts/yamltotable.js"

## <<Stencil::Block(tasks)>>
## Add custom mise tasks here (e.g., [tasks.mytask] description = "...", run = "...")
## These tasks will be available via 'mise run <task-name>'
## <</Stencil::Block>>
