[tools]
nodejs = "lts"
pnpm = "latest"
# Add additional tool versions here (e.g. rust = "1.75"). Installed via mise alongside defaults.
## <<Stencil::Block(additionalTools)>>

## <</Stencil::Block>>

# Template module tasks
[tasks.cleantest]
description = "Helper to clean the test directory"
dir = "tests"
run = """
#!/usr/bin/env bash
for dir in ./*/ ; do
    (cd "$dir" && git clean -xdf);
done
"""

[tasks.buildtest]
description = 'Build the Test projects'
dir = "tests"
run = """
#!/usr/bin/env bash
for dir in ./*/ ; do
    (cd "$dir" && echo "Building the project $dir" && stencil) || exit 1;
done
"""

[tasks.runtest]
description = 'Run the tests'
dir = "tests"
# Customize test runner: override run command and/or add env vars for the runtest task.
## <<Stencil::Block(runTests)>>
run = """
#!/usr/bin/env bash
cd native
mise run build
mise run lint
mise run test
"""
## <</Stencil::Block>>

[tasks.gentable]
description = 'Generate the README.md table of arguments'
run = "node scripts/yamltotable.js"

# Add custom mise tasks here (e.g. [tasks.mytask] description = "...", run = "...").
## <<Stencil::Block(tasks)>>

## <</Stencil::Block>>
